<main class="p-6">

  <div class="mb-6 flex gap-6 items-center">
    <h1>{{ 'staff-feature-overview-title' | translate }}</h1>
    <p-button outlined raised severity="primary" [routerLink]=[AppNode.CREATE]><i class="pi pi-plus"></i>{{ 'btn-create' | translate }}</p-button>
  </div>

  @if(loading){
    <p-progress-spinner/>
  }
  @else{
    @if(employees$().length > 0){
      <p-table [value]="employees$()" [tableStyle]="{ 'min-width': '50rem' }">
        <ng-template #header>
          <tr>
            <th>{{ 'staff-lastname' | translate }}</th>
            <th>{{ 'staff-firstname' | translate }}</th>
            <th>{{ 'staff-mail' | translate }}</th>
            <th>{{ 'staff-role' | translate }}</th>
            <th>{{ 'staff-overview-action' | translate }}</th>
          </tr>
        </ng-template>
        <ng-template #body let-employee>
          <tr>
            <td class="capitalize">{{ employee.lastname }}</td>
            <td class="capitalize">{{ employee.firstname }}</td>
            <td>{{ employee.mail }}</td>
            <td>{{ UserRoleEnum[employee.role] }}</td>
            <td class="flex gap-2">
              <p-button outlined raised severity="info" [routerLink]=[AppNode.DETAIL,employee.employeeId]><i class="pi pi-search"></i>{{ 'btn-detail' | translate }}</p-button>
              <p-button outlined raised severity="danger" (click)="delete(employee.employeeId)"><i class="pi pi-times"></i>{{ 'btn-delete' | translate }}</p-button>
            </td>
          </tr>
        </ng-template>
      </p-table>

    }
    @else{
      <h1>{{ 'staff-overview-no-staff' | translate }}</h1>
    }
  }

  <p-toast />
  <p-confirmDialog />
</main>

