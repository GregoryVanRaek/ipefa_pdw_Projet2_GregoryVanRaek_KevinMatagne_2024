<main class="p-6">
  <h1 class="font-extrabold">Headquarters</h1>
  <div class="mb-6 flex gap-6 items-center">
    <h1>{{ 'site-feature-overview-title' | translate }}</h1>
    <p-button outlined raised severity="primary" [routerLink]="[AppNode.CREATE]">
      <i class="pi pi-plus"></i>{{ 'btn-create' | translate }}
    </p-button>
  </div>
  <div>
    @if(isLoading){
      <p-progress-spinner/>
    }
    @else{

      <p-table [value]="sites$()">
        <ng-template pTemplate="header">
          <tr>
            <th>{{ 'site-tab-name' | translate }}</th>
            <th>{{ 'site-tab-address' | translate }}</th>
            <th>{{  'site-tab-country' | translate }}</th>
            <th>{{'site-tab-action' | translate }}</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-site>
          <tr>
            <td>{{site.siteName}}</td>
            <td>{{formatToAddress(site.address)}}</td>
            <td>{{site.address.country}}</td>
            <td class="md:table-cell">
              <div class="flex gap-2">
                <p-button outlined raised severity="info" [routerLink]="[AppNode.DETAIL,site.siteId]">
                  <i class="pi pi-search"></i><span class="hidden md:block">{{ 'btn-detail' | translate }}</span>
                </p-button>
                <p-button outlined raised severity="danger" (onClick)="delete(site.siteId)">
                  <i class="pi pi-times"></i><span class="hidden md:block">{{ 'btn-delete' | translate }}</span>
                </p-button>
              </div>
            </td>
          </tr>
        </ng-template>
      </p-table>


    }

  </div>

  <p-toast />
  <p-confirmDialog />
</main>
