<main class="p-6">
  <h1 class="font-extrabold">Invoices</h1>
  <div>
    @if(isLoading){
      <p-progress-spinner/>
    }
    @else{
      @if (invoices$() && invoices$().length > 0) {
        <p-table [value]="invoices$()">
          <ng-template pTemplate="header">
            <tr>
              <th>{{ 'invoice-date' | translate }}</th>
              <th>{{ 'invoice-type' | translate }}</th>
              <th>{{ 'invoice-address' | translate }}</th>
              <th>{{ 'invoice-amount' | translate }}</th>
              <th>{{ 'invoice-actions' | translate }}</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-invoice>
            <tr>
              <td>{{formatToDate(invoice)}}</td>
              <td>{{InvoiceType[invoice.type]}}</td>
              <td>{{ formatAddressToString(invoice) }}</td>
              <td>{{ invoice.totalAmount.toFixed(2) }} â‚¬</td>
              <td class="md:table-cell">
                <div class="flex gap-2">
                  <p-button outlined raised severity="info" [routerLink]="[invoice.invoiceId]">
                    <i class="pi pi-search"></i><span class="hidden md:block">{{ 'btn-detail' | translate }}</span>
                  </p-button>
                  <p-button outlined raised severity="danger" (click)="deleteInvoice(invoice)">
                    <i class="pi pi-times"></i><span class="hidden md:block">{{ 'btn-delete' | translate }}</span>
                  </p-button>
                </div>
              </td>
            </tr>
          </ng-template>
        </p-table>
      }
    }

  </div>


</main>
